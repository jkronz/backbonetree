!function(){var a,b,c=function(a,b){return function(){return a.apply(b,arguments)}},d={}.hasOwnProperty,e=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};window.statictree={},statictree.StaticTree=function(b){function d(){return this.remove=c(this.remove,this),this.removeChildren=c(this.removeChildren,this),this.render=c(this.render,this),this.initializeTree=c(this.initializeTree,this),this.initialize=c(this.initialize,this),a=d.__super__.constructor.apply(this,arguments)}return e(d,b),d.prototype.tagName="ul",d.prototype.className="backbonetree static",d.prototype.initialize=function(a){var b=this;return this.tree=a.tree,this.nameField=a.nameField||"name",this.showLeaves=a.showLeaves||!1,this.selected=a.selected||function(){return!1},this._selected="function"==typeof this.selected?this.selected:function(a){return a[b.selected]},this.childViews=[],this.initializeTree(this.tree)},d.prototype.initializeTree=function(a){var b,c,d,e=this;return d=this._selected(a),d?(a.show=!0,!0):null!=a.children&&a.children.length?(c=_.map(a.children,function(a){return e.initializeTree(a)}),b=_.any(c),a.show=b,b):(a.show=!1,!1)},d.prototype.render=function(){return this.removeChildren(),this.topNode=new statictree.StaticTreeNode({node:this.tree,nameField:this.nameField}),this.$el.html(this.topNode.render().el),this},d.prototype.removeChildren=function(){var a;return null!=(a=this.topNode)?a.remove():void 0},d.prototype.remove=function(){return this.removeChildren(),this.stopListening(),this.undelegateEvents(),d.__super__.remove.call(this)},d}(Backbone.View),statictree.StaticTreeNode=function(a){function d(){return this.remove=c(this.remove,this),this.removeChildren=c(this.removeChildren,this),this.template=c(this.template,this),this.expand=c(this.expand,this),this.children=c(this.children,this),this.render=c(this.render,this),this.initialize=c(this.initialize,this),b=d.__super__.constructor.apply(this,arguments)}return e(d,a),d.prototype.tagName="li",d.prototype.className="node collapsed",d.prototype.events={"click > a.expand":"expand"},d.prototype.initialize=function(a){return this.node=a.node,this.nameField=a.nameField||"name",this.childViews=[]},d.prototype.render=function(){var a,b=this;return this.$el.html(this.template()),a=document.createDocumentFragment(),_.each(this.children(),function(c){var d;return d=new statictree.StaticTreeNode({node:c,nameField:b.nameField}),b.childViews.push(d),a.appendChild(d.render().el)}),this.$(".children").html(a),this},d.prototype.children=function(){return this._children?this._children:this.childrenMemo=_.filter(this.node.children,function(a){return a.show})},d.prototype.expand=function(a){return this.$el.is(".collapsed")?this.$el.removeClass("collapsed"):this.$el.addClass("collapsed"),null!=a&&a.stopPropagation(),null!=a?a.preventDefault():void 0},d.prototype.template=function(){return this.children().length>0?'<a href="#" class="expand">\n  <i class="icon-expand-alt"></i>\n  <i class="icon-collapse-alt"></i>\n</a>\n<label class="checkbox">'+this.node[this.nameField]+'</label>\n<ul class="children"></ul>':'<label class="checkbox">'+this.node[this.nameField]+"</label>"},d.prototype.removeChildren=function(){return _.each(this.childViews,function(a){return a.remove()})},d.prototype.remove=function(){return this.removeChildren(),this.stopListening(),this.undelegateEvents(),d.__super__.remove.call(this)},d}(Backbone.View)}.call(this);